generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

//company
model Company {
  id               String            @id @default(uuid())
  isOwn            Boolean           @default(false)
  isStatus         Boolean           @default(true)
  isPrime          Boolean           @default(false)
  isSub            Boolean           @default(false)
  isPurchase       Boolean           @default(false)
  companyName      String            @default("")
  companyName_kana String            @default("")
  firstName        String            @default("")
  firstName_kana   String            @default("")
  lastName         String            @default("")
  lastName_kana    String            @default("")
  companyBranch    CompanyBranch[]
  companyEmployee  CompanyEmployee[]
}

model CompanyBranch {
  id                 String               @id @default(uuid())
  fk_companyId       String
  isStatus           Boolean              @default(true)
  branchName         String               @default("")
  branchName_kana    String               @default("")
  postcode           String               @default("")
  address1           String               @default("")
  address2           String               @default("")
  tel                String               @default("")
  fax                String               @default("")
  email              String               @default("")
  company            Company              @relation(fields: [fk_companyId], references: [id])
  companyEmployee    CompanyEmployee[]
  branchBankAccount  BranchBankAccount[]
  branchPermitNotice BranchPermitNotice[]
}

model CompanyEmployee {
  id                     String            @id @default(uuid())
  fk_companyId           String
  fk_companyBranchId     String
  isStatus               Boolean           @default(true)
  firstName              String            @default("")
  lastName               String            @default("")
  firstName_kana         String            @default("")
  lastName_kana          String            @default("")
  birthYear              String            @default("")
  birthMonth             String            @default("")
  birthDay               String            @default("")
  employmentStatus       String            @default("")
  compMobile             String            @default("")
  compEmail              String            @default("")
  postcode               String            @default("")
  address1               String            @default("")
  address2               String            @default("")
  homePhone              String            @default("")
  persMobile             String            @default("")
  persEmail              String            @default("")
  department             String            @default("")
  position               String            @default("")
  entryDate              String            @default("") //入社日
  yearsOfExperience      String            @default("") //経験年数
  routineCheckupDate     String            @default("") //定期健診
  routineCheckupHospital String            @default("")
  specialCheckupDate     String            @default("") //特殊健診
  specialCheckupHospital String            @default("") //既往症
  bloodPressureUp        String            @default("") //血圧
  bloodPressureDown      String            @default("")
  medicalHistory         String            @default("")
  employeeNumber         String            @default("")
  calendarName           String            @default("")
  placeOfOrigin          String            @default("") //本籍
  bloodType              String            @default("")
  bloodTypeRh            String            @default("")
  emgLastName            String            @default("") //緊急
  emgLastName_kana       String            @default("")
  emgFirstName           String            @default("")
  emgFirstName_kana      String            @default("")
  emgRelation            String            @default("") //続柄
  emgPhone               String            @default("")
  isEmgAddressSame       Boolean           @default(false)
  emgPostcode            String            @default("")
  emgAddress1            String            @default("")
  emgAddress2            String            @default("")
  company                Company           @relation(fields: [fk_companyId], references: [id])
  companyBranch          CompanyBranch     @relation(fields: [fk_companyBranchId], references: [id])
  remark                 Remark[]
  employeeLicense        EmployeeLicense[]
}

model Car {
  id                    String           @id @default(uuid())
  fk_fuelType           String           @default("")
  isStatus              Boolean          @default(true)
  carName               String           @default("")
  frameNumber           String           @default("")
  model                 String           @default("")
  fuelConsumption       String           @default("")
  carNumber             String           @default("")
  firstRegistration     String           @default("")
  etcNumber             String           @default("")
  inspectionStartDate   String           @default("")
  inspectionEndDate     String           @default("")
  compInsCompanyName    String           @default("")
  compInsNumber         String           @default("")
  compInsStartDate      String           @default("")
  compInsEndDate        String           @default("")
  compInsContractorName String           @default("")
  volInsCompanyName     String           @default("")
  volInsNumber          String           @default("")
  volInsStartDate       String           @default("")
  volInsEndDate         String           @default("")
  volInsContractorName  String           @default("")
  volInsAgeRequirement  String           @default("")
  volInsPersonal        String           @default("")
  volInsProperty        String           @default("")
  volInsPassenger       String           @default("")
  volInsCar             String           @default("")
  carMaintenance        CarMaintenance[]
  remark                Remark[]
}

model CarMaintenance {
  id       String @id @default(uuid())
  fk_car   String
  date     String @default("")
  odometer String @default("")
  cost     String @default("")
  content  String @default("")
  car      Car    @relation(fields: [fk_car], references: [id])
}

model CarFuelType {
  id       String @id @default(uuid())
  fuelType String @default("")
  price    String @default("")
}

model Remark {
  id                 String           @id @default(uuid())
  date               String           @default("")
  remark             String           @default("")
  fileName           String?
  fileType           String?
  filePath           String?
  isPublic           Boolean          @default(true)
  fk_companyEmployee String?
  companyEmployee    CompanyEmployee? @relation(fields: [fk_companyEmployee], references: [id])
  fk_car             String?
  car                Car?             @relation(fields: [fk_car], references: [id])
}

model EmployeeLicense {
  id                 String          @id @default(uuid())
  acquisitionDate    String          @default("")
  expiryDate         String          @default("")
  issuingAuthority   String          @default("")
  licenseNumber      String          @default("")
  category           String          @default("")
  remark             String          @default("")
  fileName           String?
  fileType           String?
  filePath           String?
  fk_companyEmployee String
  companyEmployee    CompanyEmployee @relation(fields: [fk_companyEmployee], references: [id])
}

model BranchBankAccount {
  id               String        @id @default(uuid())
  fk_companyBranch String
  bankName         String        @default("")
  branchName       String        @default("")
  accountType      String        @default("")
  accountNumber    String        @default("")
  remark           String        @default("")
  companyBranch    CompanyBranch @relation(fields: [fk_companyBranch], references: [id])
}

// 許可届出
model BranchPermitNotice {
  id                 String        @id @default(uuid())
  fk_companyBranch   String
  industryType       String        @default("")
  approvingAuthority String        @default("")
  permitType         String        @default("")
  permitNumber       String        @default("")
  approvalDate       String        @default("")
  expiryDate         String        @default("")
  remark             String        @default("")
  companyBranch      CompanyBranch @relation(fields: [fk_companyBranch], references: [id])
}
